2025-01-12 â€¢ bootstrap â€¢ Initialized agent router files for Custom Stories.
2025-11-14 • [frontend-developer] • Custom Stories PDF layout refinement • Standardised PDF titles, fixed card HTML rendering by using Paragraph cells, reduced unnecessary page breaks, added section divider, and introduced layout configs plus layout docs. • app/pdf_generator.py, docs/guides/custom_stories_pdf_layout.md, tests/test_pdf_generator_utils.py
2025-11-14 • [frontend-developer] • Creative PDF spacing + persona refresh • Added AI disclaimers, tightened spacing constants, refreshed benchmark conversion copy, and expanded simulated audience personas with smarter keep-together logic while keeping tests green. • app/pdf_generator.py, app/effectiveness_benchmarks.py, tests/
2025-11-15 • [ai-engineer] • Clearcast analysis & fixing planning • Defined roadmap to improve Clearcast rules ingestion, script/product/brand categorisation, and auto-fix tooling (audio, clock, countdown) for TV ad clearance. • .cursor/scratchpad.md, src/app/clearcast_checker.py, src/app/clearcast_updater.py, tests/
2025-11-15 • [ai-engineer] • Clearcast snapshot + updater refresh • Added typed rule snapshot models, seeded `clearcast_updates.json` with structured data, refreshed the updater to manage versions/timestamps, and surfaced “last updated” messaging in the UI with regression tests. • src/app/clearcast_rules.py, src/app/clearcast_updates.json, src/app/clearcast_updater.py, src/app/video_analyzer_gui.py, tests/
2025-11-15 • [ai-engineer] • Clearcast prompt + reasoning upgrade • Introduced prompt builder + context model, updated checker to load rule snapshots, support verbose reasoning, and normalise structured responses; added targeted tests. • src/app/clearcast_prompt_builder.py, src/app/clearcast_checker.py, tests/test_clearcast_prompt_builder.py, tests/test_clearcast_response_parser.py
2025-11-15 • [ai-engineer] • Clearcast classification cross-reference • Hooked classifier outputs into the compliance flow, added focus summaries/disclaimers to results, and surfaced the new “Classification Snapshot” section in both UI and PDF. • src/app/clearcast_checker.py, src/app/clearcast_classifier.py, src/app/video_analyzer_gui.py, src/app/pdf_generator.py, tests/
2025-11-15 • [ai-engineer] • Audio readiness stub • Added FFmpeg-backed audio normalization analyzer, blue-flag integration, and UI/PDF “Audio Readiness” surfaces plus guardrails-aware polish options. • src/app/clearcast_audio.py, src/app/clearcast_checker.py, src/app/video_analyzer_gui.py, src/app/pdf_generator.py, tests/test_clearcast_audio.py, tests/test_pdf_generator_utils.py
2025-11-15 • [ai-engineer] • Clearcast e2e regression coverage • Created deterministic end-to-end Clearcast test harness, strengthened checker logging/metadata assignment, and ensured rules snapshots/classifications overwrite defaults for reliable downstream rendering. • tests/test_clearcast_end_to_end.py, src/app/clearcast_checker.py
2025-11-22 • [project-shipper] • Awaiting repo deep clean plan file • Executor blocked because `repo-deep-clean-plan.plan.md` referenced by user is missing from the workspace; need correct location before proceeding with the plan. • .cursor/scratchpad.md, docs/activity-log.md
2025-11-22 • [backend-architect] • Repo deep clean applied • Removed corrupt/temp assets, archived `app/gui.py`, moved Clearcast/analytics modules into `src/app/features/**` with new package markers, updated backend/tests to import from `app.features...`, and reorganized the React service/context folders while noting pytest now needs OpenCV. • src/app/features/**, src/app/video_analyzer_gui.py, src/api/main.py, tests/**, src/web/src/lib/services/api.ts, src/web/src/shared/context/LoadingContext.tsx, .cursor/scratchpad.md
2025-11-22 • [backend-architect] • Backend folders & imports reorganized • Introduced `app.core`, `app.desktop`, `features/ai_breakdown`, and `features/reporting`, moved config/storage/UI modules plus AI breakdown/reporting logic accordingly, relocated stray assets to `public/desktop-icons` and `_archive/2025-11-22/relics`, and scripted import updates across `src/` + `tests/` to match the new package layout. • src/app/core/**, src/app/desktop/**, src/app/features/{ai_breakdown,reporting}/**, public/desktop-icons/, _archive/2025-11-22/relics/, tests/**, .reports/moves-map.csv, .cursor/scratchpad.md
2025-11-22 • [backend-architect] • Web folders + scripts/assets reorganized • Adopted the `src/web/src/{app,features,shared,lib}` layout with TS/Vite aliases, moved React pages/components accordingly, centralized automation helpers under `scripts/`, pointed icon generation/output at `public/desktop-icons/`, and archived lingering temp/debug docs. • src/web/src/**, src/web/tsconfig*.json, src/web/vite.config.ts, scripts/**, public/desktop-icons/, docs/references/DIST_README.txt, .cursor/scratchpad.md
2025-11-22 • [backend-architect] • Tooling verification & fallbacks • Added compatibility shim (`app/gemini_utils.py`), optional-import guards for MediaPipe/DeepFace, improved blink/pulse/substantiation logic, normalized Clearcast frame handling, renamed `scripts/test_api` helpers to avoid pytest collection, installed required deps (opencv, reportlab, pypdf, SpeechRecognition, pygame), and reran `pytest` + `npm run build` successfully. • src/app/features/analytics/{enhanced_emotion_tracker,blink_detector,pulse_estimator}.py, src/app/features/ai_breakdown/substantiation_generator.py, src/app/features/clearcast/{clearcast_checker,clearcast_classifier}.py, src/app/gemini_utils.py, scripts/test_api.py, tests/**, .cursor/scratchpad.md
2025-11-23 • [backend-architect] • Job queue + error UX integration • Added persisted job queue + error classification, updated `/analyze` + `/reactions` to enqueue work, exposed `/queue/jobs` APIs with retries, refreshed pytest coverage, and shipped Toast/JobStatus/BatchQueue components so the web UI reflects queue progress with manual retries. • app/core/{job_queue,error_handler,video_storage}.py, src/api/main.py, tests/test_job_queue.py, tests/test_reactions.py, src/web/src/{shared/components,features/projects,features/dashboard,features/reaction-recorder}, docs/guides/job-queue.md
2025-11-24 • [backend-architect] • CRITICAL: Queue worker task reference bug + PIP preview fix • Rationale: `start_worker()` internally assigned `_worker_task = asyncio.current_task()`, but the startup hook wrapped it in `create_task()`, causing a mismatch where `worker_running()` always returned False and uploads never generated queue_job_ids (jobs stuck in processing forever). Solution: removed internal task assignment from `start_worker()`; callers now set `_worker_task` and register exit callback. Also added explicit `.play()` call for webcam PIP during fullscreen recording to fix black preview. • Files: `src/app/core/job_queue.py`, `src/api/main.py`, `src/web/src/features/reaction-recorder/ReactionRecorder.tsx`
2025-11-24 • [backend-architect] • Clearcast supers rule enforcement • Centralized Clearcast supers constants, enforced the ≥30 HD-line height rule, implemented the 0.2s/word +2s/+3s hold-time step, enriched blue-flag metadata, and updated the Clearcast report UI plus docs/tests so broadcast supers failures always cite actual vs required lines/durations. • Files: `src/app/core/legal_geometry.py`, `tests/test_legal_geometry.py`, `tests/test_audit_fixes.py`, `src/app/features/clearcast/clearcast_checker.py`, `src/web/src/features/clearcast-report/ClearcastReport.tsx`, `docs/clearcast-supers.md`
